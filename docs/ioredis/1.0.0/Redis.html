<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Class: Redis</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":false,"default":{}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="Command">
            <span class="title">
                <a href="Command.html">Command</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Command#reject"><a href="Command.html#reject">reject</a></li>
            
                <li data-name="Command#resolve"><a href="Command.html#resolve">resolve</a></li>
            
                <li data-name="Command#toString"><a href="Command.html#toString">toString</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Redis">
            <span class="title">
                <a href="Redis.html">Redis</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Redis#connect"><a href="Redis.html#connect">connect</a></li>
            
                <li data-name="Redis#disconnect"><a href="Redis.html#disconnect">disconnect</a></li>
            
                <li data-name="Redis#duplicate"><a href="Redis.html#duplicate">duplicate</a></li>
            
                <li data-name="Redis#sendCommand"><a href="Redis.html#sendCommand">sendCommand</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="Redis.html">Class: Redis</h1>
        



<section>
    
<header>
    <h2>
    Redis
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <div class="nameContainer">
        <h4 class="name" id="Redis">
            
            new Redis<span class="signature">(<span class="optional">port</span>, <span class="optional">host</span>, <span class="optional">options</span>)</span>
        </h4>
    
        
        <div class="tag-source">
            redis.js, line 55
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Creates a new Redis instance</p>
    </div>
    

    
    
    
    
    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Default</th>
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>port</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type">string</span>
|

<span class="param-type">Object</span>


            
            </td>
            
            
                <td class="default">
                
                    6379
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>Port of the Redis server,
or a URL string(see the examples below),
or the <code>options</code> object(see the third argument).</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>host</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Object</span>


            
            </td>
            
            
                <td class="default">
                
                    localhost
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>Host of the Redis server,
when the first argument is a URL string,
this argument is an object represents the options.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>options</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
                <td class="default">
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>Other options.</p>
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Default</th>
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>port</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
                <td class="default">
                
                    6379
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>Port of the Redis server.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>host</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="default">
                
                    localhost
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>Host of the Redis server.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>family</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="default">
                
                    4
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>Version of IP stack. Defaults to 4.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>path</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="default">
                
                    null
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>Local domain socket path. If set the <code>port</code>, <code>host</code>
and <code>family</code> will be ignored.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>auth</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="default">
                
                    null
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>If set, client will send AUTH command
with the value of this option when connected.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>enableReadyCheck</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
                <td class="default">
                
                    true
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>When a connection is established to
the Redis server, the server might still be loading the database from disk.
While loading, the server not respond to any commands.
To work around this, when this option is <code>true</code>,
ioRedis will check the status of the Redis server,
and when the Redis server is able to process commands,
a <code>ready</code> event will be emitted.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>enableOfflineQueue</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
                <td class="default">
                
                    true
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>By default,
if there is no active connection to the Redis server,
commands are added to a queue and are executed once the connection is &quot;ready&quot;
(when <code>enableReadyCheck</code> is <code>true</code>,
&quot;ready&quot; means the Redis server has loaded the database from disk, otherwise means the connection
to the Redis server has been established). If this option is false,
when execute the command when the connection isn't ready, an error will be returned.</p></td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        

    
    <pre class="prettyprint"><code>var Redis = require('ioredis');

var redis = new Redis();
// or: var redis = Redis();

var redisOnPort6380 = new Redis(6380);
var anotherRedis = new Redis(6380, '192.168.100.1');
var unixSocketRedis = new Redis({ path: '/tmp/echo.sock' });
var unixSocketRedis2 = new Redis('/tmp/echo.sock');
var urlRedis = new Redis('redis://user:password@redis-service.com:6379/');
var urlRedis2 = new Redis('//localhost:6379');
var authedRedis = new Redis(6380, '192.168.100.1', { auth: 'password' });</code></pre>
    

    
</dd>

    
    </div>
    
    
        <h3 class="subsection-title">Extends</h3>
        
        <ul>
            <li><p><a href="http://nodejs.org/api/events.html#events_class_events_eventemitter">EventEmitter</a></p></li>
        </ul>
    
    
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id="connect">
            
            connect<span class="signature">()</span>
        </h4>
    
        
        <div class="tag-source">
            redis.js, line 116
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Create a connection to Redis.
This method will be invoked automatically when creating a new Redis instance.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id="disconnect">
            
            disconnect<span class="signature">()</span>
        </h4>
    
        
        <div class="tag-source">
            redis.js, line 134
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Disconnect from Redis.</p>
<p>This method closes the connection immediately,
and may lose some pending replies that haven't written to clien.
If you want to wait for the pending replies, use Redis#quit instead.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id="duplicate">
            
            duplicate<span class="signature">()</span>
        </h4>
    
        
        <div class="tag-source">
            redis.js, line 148
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Create a new instance, using the same options.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        

    
    <pre class="prettyprint"><code>var redis = new Redis(6380);
var anotherRedis = redis.duplicate();</code></pre>
    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id="sendCommand">
            
            sendCommand<span class="signature">(command, <span class="optional">args</span>, <span class="optional">callback</span>)</span>
        </h4>
    
        
        <div class="tag-source">
            redis/mixin/prototype/commands.js, line 67
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Send a command to Redis</p>
<p>This method is used internally by the <code>Redis#set</code>, <code>Redis#lpush</code> etc.
Most of the time you won't invoke this method directly.
However when you want to send a command that is not supported by ioRedis yet,
this command will be useful.</p>
    </div>
    

    
    
    
    
    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>command</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="Command.html">Command</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                    
                    
                        
                    
                
                <p>Command name or a command instance</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>args</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>
            
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>An array of command arguments. See <a href="Command.html"><code>Command</code></a></p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                <p>The callback that handles the response. See <a href="Command.html"><code>Command</code></a></p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="Command.html"><code>Command</code></a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        

    
    <pre class="prettyprint"><code>var redis = new Redis();

// Use callback
redis.sendCommand('get', ['foo'], function (err, result) {
  console.log(result);
});

// Use promise
redis.sendCommand('info', null).then(function (result) {
  console.log(result);
});</code></pre>
    

    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  





        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta3</a> on Tue Mar 31 2015 23:35:51 GMT+0800 (CST)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>